<?xml version="1.0" encoding="utf-8"?>
<Page
 x:Class="SSMT3.TextureToolBoxPage"
 xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
 xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
 xmlns:local="using:SSMT3"
 xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
 xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
 xmlns:controls="using:CommunityToolkit.WinUI.Controls"
 mc:Ignorable="d"
 Background="Transparent">

    <Grid Margin="0,20,0,0">

        <Pivot >
            <PivotItem Header="动态贴图Mod制作">
                <ScrollViewer>
                    <StackPanel Orientation="Vertical" Margin="5">

                        <TextBox
                        Margin="5"
                        x:Name="TextBox_OriginalTextureFile"
                        Header="原始贴图文件"
                        AllowDrop="True"
                        Drop="TextBox_OriginalTextureFile_Drop"
                        DragOver="TextBox_DragOver" />

                        <Button
                        Margin="5"
                        x:Name="Button_ChooseOriginalTextureFile"
                        Click="Button_ChooseOriginalTextureFile_Click"
                        Content="选择贴图文件" />

                        <TextBox
                        Margin="5"
                        x:Name="TextBox_VideoFile"
                        Header="视频文件"
                        AllowDrop="True"
                        Drop="TextBox_VideoFile_Drop"
                        DragOver="TextBox_DragOver" />

                        <Button
                        Margin="5"
                        x:Name="Button_ChooseVideoFile"
                        Click="Button_ChooseVideoFile_Click"
                        Content="选择视频文件" />

                        <TextBox
                        Margin="5"
                        x:Name="TextBox_DynamicTextureModGenerateFolder"
                        Header="动态贴图Mod生成的文件夹位置" />

                        <StackPanel Orientation="Horizontal">
                            <Button
                            Margin="5"
                            x:Name="Button_SetDynamicTextureModGenerateFolderToMods"
                            Click="Button_SetDynamicTextureModGenerateFolderToMods_Click"
                            Content="设为默认Mods文件夹" />

                            <Button
                            Margin="5"
                            x:Name="Button_ChooseDynamicTextureModGenerateFolder"
                            Click="Button_ChooseDynamicTextureModGenerateFolder_Click"
                            Content="选择文件夹" />

                        </StackPanel>


                        <ComboBox
                            Margin="5"
                            x:Name="ComboBox_FpsOption"
                            Header="选择FPS选项"
                            SelectionChanged="ComboBox_FpsOption_SelectionChanged">
                            <ComboBoxItem Tag="30">30 FPS</ComboBoxItem>
                            <ComboBoxItem Tag="60">60 FPS</ComboBoxItem>
                        </ComboBox>

                        <controls:SettingsCard  
                            Margin="5"
                            x:Name="SettingsCard_VerticalFlip">
                            <!-- 这里换成你查到的编码 -->
                            <controls:SettingsCard.HeaderIcon>
                                <FontIcon Glyph="&#xe784;" FontFamily="Segoe Fluent Icons"/>
                            </controls:SettingsCard.HeaderIcon>

                            <ToggleSwitch x:Name="ToggleSwitch_VerticalFlip">
                            </ToggleSwitch>

                        </controls:SettingsCard>


                        <controls:SettingsCard  
                            Margin="5"
                            x:Name="SettingsCard_HorizontalFlip">
                            <!-- 这里换成你查到的编码 -->
                            <controls:SettingsCard.HeaderIcon>
                                <FontIcon Glyph="&#xe76f;" FontFamily="Segoe Fluent Icons"/>
                            </controls:SettingsCard.HeaderIcon>

                            <ToggleSwitch x:Name="ToggleSwitch_HorizontalFlip">
                            </ToggleSwitch>

                        </controls:SettingsCard>
                        
                        <StackPanel x:Name="StackPanel_DynamicModProgress" Visibility="Collapsed" Margin="5">
                            <TextBlock x:Name="TextBlock_DynamicModProgress" Text="Ready" HorizontalAlignment="Center" Margin="0,0,0,5"/>
                            <ProgressBar x:Name="ProgressBar_DynamicMod" Maximum="100" Value="0" HorizontalAlignment="Stretch"/>
                        </StackPanel>

                        <Button
                            HorizontalAlignment="Stretch"
                            Margin="5"
                            Style="{StaticResource AccentButtonStyle}"
                            x:Name="Button_GenerateDynamicTextureMod"
                            Click="Button_GenerateDynamicTextureMod_Click"
                            Content="生成动态贴图Mod模板ini文件" />

                    </StackPanel>
                </ScrollViewer>
            </PivotItem>

            <PivotItem Header="批量转换贴图到dds格式">
                <ScrollViewer>
                    <StackPanel Orientation="Vertical" Margin="5">
                        <TextBox 
                            Margin="5"
                            x:Name="TextBox_BatchInputPath" 
                            Header="输入文件/文件夹 (Input File/Folder)" 
                            PlaceholderText="Select a file or folder..." />
                        
                        <StackPanel Orientation="Horizontal" >
                            <Button 
                                Margin="5"
                                x:Name="Button_BatchSelectFile" 
                                Content="选择文件 (Select File)" 
                                Click="Button_BatchSelectFile_Click" />
                            
                            <Button 
                                Margin="5"
                                x:Name="Button_BatchSelectFolder" 
                                Content="选择文件夹 (Select Folder)" 
                                Click="Button_BatchSelectFolder_Click" />
                        </StackPanel>

                        <TextBox 
                            Margin="5"
                            x:Name="TextBox_BatchOutputPath" 
                            Header="输出文件夹 (Output Folder) - 留空则输出到源目录" 
                            PlaceholderText="Leave empty for source directory..." />
                        
                        <Button 
                            Margin="5"
                            x:Name="Button_BatchSelectOutputFolder" 
                            Content="选择输出文件夹 (Select Output Folder)" 
                            Click="Button_BatchSelectOutputFolder_Click" />

                        <MenuFlyoutSeparator />
                        
                      

                        <StackPanel Orientation="Horizontal">
                            <ComboBox 
                                Margin="5"
                                x:Name="ComboBox_BatchFormat" 
                                Header="目标格式 (Format)" 
                                HorizontalAlignment="Stretch"
                                IsEditable="True">
                                <ComboBoxItem Content="BC1_UNORM" />
                                <ComboBoxItem Content="BC1_UNORM_SRGB" />
                                <ComboBoxItem Content="BC3_UNORM" />
                                <ComboBoxItem Content="BC3_UNORM_SRGB" />
                                <ComboBoxItem Content="BC4_UNORM" />
                                <ComboBoxItem Content="BC5_UNORM" />
                                <ComboBoxItem Content="BC6H_UF16" />
                                <ComboBoxItem Content="BC7_UNORM" />
                                <ComboBoxItem Content="BC7_UNORM_SRGB" />
                                <ComboBoxItem Content="R8G8B8A8_UNORM" />
                                <ComboBoxItem Content="B8G8R8A8_UNORM" />
                                <ComboBoxItem Content="R8G8B8A8_UNORM_SRGB" />
                                <ComboBoxItem Content="B8G8R8A8_UNORM_SRGB" />
                                <ComboBoxItem Content="R16G16B16A16_FLOAT" />
                                <ComboBoxItem Content="R32G32B32A32_FLOAT" />
                            </ComboBox>
                            
                            <Button 
                                Margin="5"
                                x:Name="Button_BatchPickFormat" 
                                Content="从DDS文件读取格式 (Pick from DDS)" 
                                VerticalAlignment="Bottom" 
                                Click="Button_BatchPickFormat_Click" />
                        </StackPanel>
                        

                        <StackPanel Orientation="Horizontal">
                            <TextBox 
                                Margin="5"
                                x:Name="TextBox_BatchWidth" 
                                Header="宽 (Width)" 
                                Width="100" 
                                PlaceholderText="Original"/>
                            <TextBox 
                                Margin="5"
                                x:Name="TextBox_BatchHeight" 
                                Header="高 (Height)" 
                                Width="100" 
                                PlaceholderText="Original"/>
                            <TextBox 
                                Margin="5"
                                x:Name="TextBox_BatchMips" 
                                Header="Mip Levels" 
                                Width="100" 
                                PlaceholderText="Default"/>
                        </StackPanel>

                        <StackPanel Orientation="Vertical">
                            <StackPanel Orientation="Horizontal" Spacing="10">
                                <CheckBox 
                                    Margin="5"
                                    x:Name="CheckBox_BatchSRGB" 
                                    Content="sRGB (-srgb)" />
                                <CheckBox 
                                    Margin="5"
                                    x:Name="CheckBox_BatchPremulAlpha" 
                                    Content="Premultiplied Alpha (-pmalpha)" />
                                <CheckBox 
                                    Margin="5"
                                    x:Name="CheckBox_BatchAlpha" 
                                    Content="Alpha (-alpha)" />
                                <CheckBox 
                                    Margin="5"
                                    x:Name="CheckBox_BatchSepAlpha" 
                                    Content="Separate Alpha (-sepalpha)" />
                            </StackPanel>
                            
                            <StackPanel Orientation="Horizontal" Spacing="10">
                                <CheckBox
                                    Margin="5"
                                    x:Name="CheckBox_BatchPow2" 
                                    Content="Power of 2 (-pow2)" />
                                <CheckBox 
                                    Margin="5"
                                    x:Name="CheckBox_BatchVFlip" 
                                    Content="Vertical Flip (-vflip)" />
                                <CheckBox 
                                    Margin="5"
                                    x:Name="CheckBox_BatchHFlip" 
                                    Content="Horizontal Flip (-hflip)" />
                                <CheckBox 
                                    Margin="5"
                                    x:Name="CheckBox_BatchOverwrite" 
                                    Content="Overwrite (-y)" 
                                    IsChecked="True"/>
                            </StackPanel>
                        </StackPanel>

                        <StackPanel x:Name="StackPanel_BatchConvertProgress" Visibility="Collapsed" Margin="5">
                            <TextBlock x:Name="TextBlock_BatchConvertProgress" Text="Ready" HorizontalAlignment="Center" Margin="0,0,0,5"/>
                            <ProgressBar x:Name="ProgressBar_BatchConvert" Maximum="100" Value="0" HorizontalAlignment="Stretch"/>
                        </StackPanel>

                        <Button 
                            x:Name="Button_BatchConvert" 
                            Content="开始转换 (Start Conversion)" 
                            Style="{StaticResource AccentButtonStyle}" 
                            HorizontalAlignment="Stretch" 
                            Margin="5" 
                            Click="Button_BatchConvert_Click"/>
                    </StackPanel>
                </ScrollViewer>
            </PivotItem>
        </Pivot>
    </Grid>
</Page>
